@model dynamic

@foreach (var prop in ViewData.ModelMetadata.Properties
                    .Where(pm => pm.ShowForDisplay && !ViewData.TemplateInfo.Visited(pm)))
{
    @Html.Hidden(prop.PropertyName, prop.Model)
}